"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[132],{55132:function(e,n,t){t.r(n),t.d(n,{default:function(){return ve}});var r=t(28520),i=t.n(r),o=t(35944),c=t(90948),a=t(15861),l=t(70917),u=t(2734),s=t(87357),d=t(86886),f=t(41796),p=t(22038),h=t(29009),m=t(44433),v=t(83235),g=t(3023),b=t(75358),y=t(14888),Z=t(67294),x=t(2558),P=t(65748),w=t(38503),k=t(42569),O=t(78357),S=t(75447),T=t(70746),C=t(95271),j=t(14564),z=t(32103);function R(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function D(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function E(){var e=D(["\n  font-size: 0.5rem;\n  margin-left: 0.375rem;\n  fill: ",";\n"]);return E=function(){return e},e}function B(){var e=D(["\n          width: ",";\n          border-radius: 0.75rem;\n        "]);return B=function(){return e},e}var I=(0,c.ZP)(d.ZP)((function(e){var n=e.theme;return{height:"44px",display:"flex",alignItems:"center",width:"180px",padding:".75rem .875rem",background:p.S.background[n.palette.mode],":hover":{background:(0,f.Fq)(p.S.text[n.palette.mode],.04)},cursor:"pointer"}})),_=((0,c.ZP)("img")((function(e){e.theme;return{width:"1.25rem",height:"1.25rem",marginRight:"0.3751rem",borderRadius:"50%"}})),(0,c.ZP)("img")((function(e){e.theme;return{position:"absolute",right:".875rem"}}))),X=(0,c.ZP)(a.Z)((function(e){var n=e.theme;return{fontSize:"14px",fontWeight:"400",lineHeight:"16px",color:(0,f.Fq)(p.S.text[n.palette.mode],.85)}})),A=(0,c.ZP)(z.pO)(E(),(function(e){return e.theme.palette.text.secondary})),H=function(e){return(0,o.tZ)(j.ZP,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){R(e,n,t[n])}))}return e}({anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},style:{marginTop:".5rem"}},e.popover,{children:(0,o.tZ)(s.Z,{css:(0,l.iv)(B(),e.width||"180px"),children:e.renderOptions})}))},U=t(26125);function M(e,n,t,r,i,o,c){try{var a=e[o](c),l=a.value}catch(u){return void t(u)}a.done?n(l):Promise.resolve(l).then(r,i)}function N(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function W(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){N(e,n,t[n])}))}return e}function q(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(t.push(c.value),!n||t.length!==n);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function F(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function K(){var e=F(["\n  font-size: 0.875rem;\n  font-weight: 500;\n"]);return K=function(){return e},e}function G(){var e=F(["\n  font-size: 2rem;\n  font-weight: 500;\n"]);return G=function(){return e},e}function L(){var e=F(["\n  font-size: 0.8125rem;\n  font-weight: 500;\n  margin-left: 0.5rem;\n"]);return L=function(){return e},e}function Y(){var e=F(["\n  background: ",";\n  color: ",";\n  padding: 0 6px;\n  line-height: 1.75;\n  word-spacing: 4px;\n  border-radius: 5px;\n"]);return Y=function(){return e},e}function V(){var e=F(["\n  animation: placeholder-glow 2s ease-in-out infinite;\n  border-radius: 8px;\n  background-color: ",";\n  opacity: 0.25;\n  @keyframes placeholder-glow {\n    50% {\n      opacity: 0.05;\n    }\n  }\n"]);return V=function(){return e},e}function J(){var e=F(["\n          min-height: 21px;\n          width: 190px;\n        "]);return J=function(){return e},e}function Q(){var e=F(["\n          min-height: 42px;\n          width: 190px;\n          margin-top: 0.75rem;\n          margin-bottom: 6px;\n        "]);return Q=function(){return e},e}function $(){var e=F(["\n          min-height: 180px;\n          margin-bottom: 12px;\n        "]);return $=function(){return e},e}function ee(){var e=F(["\n          min-height: 38px;\n          width: 195px;\n          margin-left: auto;\n        "]);return ee=function(){return e},e}function ne(){var e=F([""]);return ne=function(){return e},e}function te(){var e=F(["\n        display: flex;\n        justify-content: flex-end;\n      "]);return te=function(){return e},e}function re(){var e=F(["\n          display: flex;\n          row-gap: 15px;\n          align-items: flex-end;\n          margin-bottom: 12px;\n          flex-direction: column;\n        "]);return re=function(){return e},e}var ie=(0,c.ZP)(a.Z)(K()),oe=(0,c.ZP)(a.Z)(G()),ce=(0,c.ZP)(a.Z)(L()),ae=(0,c.ZP)("div")(Y(),(function(e){return e.theme.palette.background.paper}),(function(e){return e.theme.palette.text.primary})),le=(0,c.ZP)("div")(V(),p.S.primary),ue=function(){return(0,o.BX)("div",{children:[(0,o.tZ)(le,{css:(0,l.iv)(J())}),(0,o.tZ)(le,{css:(0,l.iv)(Q())}),(0,o.tZ)(le,{css:(0,l.iv)($())}),(0,o.tZ)(le,{css:(0,l.iv)(ee())})]})},se=function(e){var n=e.priceChange,t=e.selectedPrice,r=e.allHeaderTitle,i=e.headerTitle,c=e.setHeaderTitle,a=(e.onRefreshClick,(0,u.Z)()),h=(0,Z.useState)(null),m=h[0],v=h[1],g=(0,Z.useCallback)((function(e){v(!e||m?null:e.currentTarget)}),[m]),b=Boolean(m);return(0,o.BX)(s.Z,{css:(0,l.iv)(ne()),children:[(0,o.BX)(d.ZP,{container:!0,alignItems:"center",children:[(0,o.BX)(d.ZP,{item:!0,style:{cursor:"pointer",display:"flex",alignItems:"center"},onClick:g,children:[(0,o.tZ)(ie,{children:i}),(0,o.tZ)(U.W,{title:"Global average price including centralized exchanges",placement:"top",arrow:!0,TransitionProps:{timeout:200},enterDelay:100,children:(0,o.tZ)(d.ZP,{style:{lineHeight:1,cursor:"pointer",background:"transparent"},children:(0,o.tZ)(z.IM,{fill:p.S.text[a.palette.mode],style:{fontSize:"1rem",position:"relative",marginLeft:"6px",marginRight:"2px"}})})}),(0,o.tZ)(A,{viewBox:"0 0 8 6"})]}),(0,o.tZ)(H,{popover:{open:b,anchorEl:m,onClose:g,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},style:{marginTop:".5rem"}},renderOptions:r.map((function(e,n){var t=i==e;return(0,o.BX)(I,{container:!0,onClick:function(){return i!=(n=e)&&c(n),void g(null);var n},children:[(0,o.tZ)(X,{children:e}),t?(0,o.tZ)(_,{src:"icons/checkbox_checked.svg"}):null]},"".concat(e,"_").concat(n))}))},"chart-change-popover")]}),(0,o.BX)(d.ZP,{container:!0,alignItems:"baseline",marginTop:"0.75rem",children:[(0,o.tZ)(oe,{color:(0,f.Fq)(p.S.text[a.palette.mode],.85),children:t}),(0,o.tZ)(ce,{color:n>=0?p.S.success:p.S.danger,children:n+"%"})]})]})},de=function(e){var n=e.dateRange,t=e.handleDateRangeChange;return(0,o.tZ)("div",{css:(0,l.iv)(te()),children:(0,o.BX)(w.Z,{size:"small",exclusive:!0,value:n,onChange:t,"aria-label":"text formatting",color:"success",children:[(0,o.tZ)(w.m,{value:"0",children:(0,o.tZ)("div",{children:"4H"})}),(0,o.tZ)(w.m,{value:"1",children:(0,o.tZ)("div",{children:"12H"})}),(0,o.tZ)(w.m,{value:"2",children:(0,o.tZ)("div",{children:"1D"})}),(0,o.tZ)(w.m,{value:"3",children:(0,o.tZ)("div",{children:"1W"})}),(0,o.tZ)(w.m,{value:"4",children:(0,o.tZ)("div",{children:"1M"})}),(0,o.tZ)(w.m,{value:"5",children:(0,o.tZ)("div",{children:"1Y"})})]})})},fe=[{hours:4},{hours:12},{days:1},{weeks:1},{months:1},{years:1}],pe=T.W.SET_SRC_USD_PRICE,he=T.W.SET_NATIVE_USD_PRICE,me=function(e){var n=void 0===e?{}:e,t=n.active,r=n.label,i=n.onActive,c=n.payload;return t&&c?(i(c[0].payload),(0,o.tZ)(ae,{children:(0,o.tZ)("h5",{children:r})})):null},ve=function(){var e=(0,Z.useState)("1"),n=e[0],t=e[1],r=(0,Z.useState)({priceChange:null,compPrice:null}),c=r[0],a=r[1],u=q((0,O.U5)(),2),d=u[0],f=d.srcTokenAddress,w=d.destTokenAddress,T=d.globalNetworkId,j=d.swapPrice,z=u[1],R=(0,Z.useRef)(null),D=(0,S.Lw)(),E=D[f],B=D[w];E&&E.extensions.isNative&&(f=E.extensions.wrappedToken),B&&B.extensions.isNative&&(w=B.extensions.wrappedToken);var I=(0,Z.useState)(""),_=I[0],X=I[1],A=(0,Z.useMemo)((function(){var e=E&&B?["".concat(E.symbol,"/").concat(B.symbol),"".concat(B.symbol,"/").concat(E.symbol)]:[];return X(e[0]),e}),[E,B]);(0,Z.useEffect)((function(){var e=c.priceChange?c.priceChange[_]:null,n=c.compPrice?c.compPrice[_]:null,t=j?j[_]:null;(t||n)&&F({selectedPrice:t||n[n.length-1].price,priceChange:e||""})}),[c,_,j]);var H=(0,Z.useState)({selectedPrice:0,priceChange:0}),U=H[0],F=H[1],K=((0,Z.useRef)(N({},"".concat(null===E||void 0===E?void 0:E.symbol,"/").concat(null===B||void 0===B?void 0:B.symbol),0)),(0,Z.useRef)(null)),G=(0,Z.useCallback)((function(){var e=(0,P.tv)((0,k.Z)(new Date,fe[Number(n)]));return!(!E||T!=E.chainId)&&(0,x.p)({from:e,chainId:T,srcTokenAddress:f,vsTokenAddress:w}).then((function(e){if(e&&Object.keys(e.compPriceObj)){var n={"src/dest":"".concat(E.symbol,"/").concat(B.symbol),"dest/src":"".concat(B.symbol,"/").concat(E.symbol),"src/usd":"".concat(E.symbol,"/USD"),"dest/usd":"".concat(B.symbol,"/USD")},t={},r={};for(var i in e.compPriceObj)t[n[i]]=e.compPriceObj[i],r[n[i]]=e.priceChangeObj[i];a({compPrice:t,priceChange:r}),z({type:pe,payload:{srcTokenUsdPrice:e.srcTokenUsdPrice}}),E&&E.extensions.isNative&&z({type:he,payload:{nativeUsdPrice:e.srcTokenUsdPrice}})}return!0}))}),[n,E,T,f,w,B,z]);if((0,Z.useEffect)((function(){var e=function(n){var t;R.current&&clearTimeout(R.current),R.current=setTimeout((t=i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,G();case 2:n.sent&&e();case 4:case"end":return n.stop()}}),n)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function c(e){M(o,r,i,c,a,"next",e)}function a(e){M(o,r,i,c,a,"throw",e)}c(void 0)}))}),n?0:15e4)};e(!0)}),[n,f,w,T,D,G]),(0,C.S)().isMobile)return null;if(!c||!c.compPrice||!c.compPrice[_])return(0,o.tZ)(ue,{});var L=U.priceChange>=0?p.S.primary:p.S.danger;return(0,o.BX)(o.HY,{children:[E&&B?(0,o.tZ)(se,W({},U,{headerTitle:_,setHeaderTitle:X,allHeaderTitle:A,onRefreshClick:G})):null,(0,o.tZ)(s.Z,{css:(0,l.iv)(re()),children:(0,o.tZ)(h.h,{width:"100%",height:180,children:(0,o.BX)(m.T,{data:c.compPrice[_],throttleDelay:50,children:[(0,o.tZ)("defs",{children:(0,o.BX)("linearGradient",{id:"color",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,o.tZ)("stop",{offset:"0%",stopColor:L,stopOpacity:.22}),(0,o.tZ)("stop",{offset:"50%",stopColor:L,stopOpacity:.15}),(0,o.tZ)("stop",{offset:"100%",stopColor:L,stopOpacity:0})]})}),(0,o.tZ)(v.u,{dataKey:"price",stroke:L,strokeWidth:1.75,fill:"url(#color)",animationDuration:1500,animationEasing:"ease"}),(0,o.tZ)(g.K,{dataKey:"label",display:"none"}),(0,o.tZ)(b.B,{allowDecimals:!0,domain:["dataMin - dataMin*6/100","dataMax + dataMax*6/100"],hide:!0}),(0,o.tZ)(y.u,{content:(0,o.tZ)(me,{onActive:function(e){K.current&&clearTimeout(K.current)}}),cursor:!1})]})})}),(0,o.tZ)(de,{dateRange:n,handleDateRangeChange:function(e,n){null!==n&&t(n)}})]})}}}]);